{% extends "base.html" %} {% block content %}
<div class="card">
  <h2>ğŸ“‹ All Expenses</h2>
  {% if expenses %}
  <div class="summary-stats" style="margin-bottom: 30px;">
    <div class="stat">
      <span class="label">ğŸ’° Total Spent</span>
      <span class="value">â‚¹{{ '%.2f'|format(expenses|sum(attribute='amount')) }}</span>
    </div>
    <div class="stat">
      <span class="label">ğŸ“Š Total Count</span>
      <span class="value">{{ expenses|length }}</span>
    </div>
    <div class="stat">
      <span class="label">ğŸ“… Date Range</span>
      <span class="value">{{ expenses[-1].created_at.strftime('%m/%d') if expenses else 'N/A' }} - {{ expenses[0].created_at.strftime('%m/%d') if expenses else 'N/A' }}</span>
    </div>
  </div>
  <div style="overflow-x: auto;">
    <table class="expenses full">
      <thead>
        <tr>
          <th>#</th>
          <th>ğŸ“… Date</th>
          <th>ğŸ·ï¸ Category</th>
          <th>ğŸ“ Note</th>
          <th>ğŸ’° Amount</th>
        </tr>
      </thead>
      <tbody>
        {% for e in expenses %}
        <tr>
          <td>{{ loop.index }}</td>
          <td>{{ e.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
          <td>
            {% if e.category == 'Food' %}ğŸ•
            {% elif e.category == 'Transportation' %}ğŸš—
            {% elif e.category == 'Entertainment' %}ğŸ¬
            {% elif e.category == 'Shopping' %}ğŸ›ï¸
            {% elif e.category == 'Bills' %}ğŸ“„
            {% elif e.category == 'Healthcare' %}ğŸ¥
            {% elif e.category == 'Education' %}ğŸ“š
            {% elif e.category == 'Travel' %}âœˆï¸
            {% else %}ğŸ“¦{% endif %}
            {{ e.category }}
          </td>
          <td>{{ e.note or '-' }}</td>
          <td class="amount">â‚¹{{ '%.2f'|format(e.amount) }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <div style="text-align: center; padding: 40px; color: #718096;">
    <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ“</div>
    <h3 style="margin: 0 0 10px 0; color: #4a5568;">No expenses yet!</h3>
    <p style="margin: 0;">Start tracking your expenses by adding your first expense.</p>
    <a href="{{ url_for('index') }}" style="display: inline-block; margin-top: 20px; padding: 12px 24px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; text-decoration: none; border-radius: 12px; font-weight: 600;">â• Add First Expense</a>
  </div>
  {% endif %}
</div>
{% endblock %}
